"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1346],{99548:function(e,t,n){n.d(t,{v:function(){return ApproveAndTx}});var a=n(31113),r=n(19757),s=n(26361),l=n(64103),o=n(47259),i=n(22298),c=n(72366),d=n(28294),u=n(64040);let m={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a,chainId:h}=(0,c.m)(),p=(0,d.t)(),{data:x}=(0,u.p)(),[f,g]=(0,l.useState)(!1),v=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[b,w]=(0,l.useState)(t&&m[t]||{}),updateAllownce=(e,n)=>{t&&(m[t]={...m[t]||{},[e]:n},w(t=>({...t,[e]:n})))},j=(0,d.t)();(0,l.useEffect)(()=>{a&&t&&p&&h&&v.forEach(e=>{p.readContract({abi:i.Wo,address:e,functionName:"allowance",args:[a,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[v,h,a]);let[k,y]=(0,l.useState)(!1),N=(0,l.useMemo)(()=>v.filter(t=>(0,s.ok)(e,t)>0n&&(0,s.ok)(e,t)>(0,s.ok)(b,t)),[e,v,b]),approve=async()=>{if(0!=N.length&&t)try{y(!0),g(!1);for(let a=0;a<N.length;a++){let r=N[a],s=!1===n?e[r]:n,l=await (null==x?void 0:x.writeContract({abi:i.Wo,address:r,functionName:"approve",args:[t,s]}));l&&await (null==j?void 0:j.waitForTransactionReceipt({hash:l})),updateAllownce(r,s)}o.A.success("Approve success"),y(!1),g(!0)}catch(e){throw o.A.error((0,s.az)(e)),y(!1),g(!1),e}};return{approve,loading:k,shouldApprove:N.length>0,isSuccess:f}};var h=n(78354),p=n(88501),x=n(36762);function ApproveAndTx(e){let{className:t,tx:n,approves:r,spender:s,requestAmount:o,config:i,toast:c=!0,disabled:d,onTxSuccess:u,onApproveSuccess:m}=e,{write:f,isDisabled:g,isLoading:v}=(0,h.R)(i,{onSuccess:()=>u&&u(),autoToast:c}),b=d||g||v||!1===i.enabled,{approve:w,shouldApprove:j,loading:k,isSuccess:y}=useApproves(r||{},s,o),N=(0,l.useRef)();return(N.current=m,(0,l.useEffect)(()=>{N.current&&y&&N.current()},[y]),j)?(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",t),onClick:w,disabled:d||!w||k,children:[k&&(0,a.jsx)(x.$,{}),"Approve"]}):(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",t),onClick:()=>f(),disabled:b,children:[v&&(0,a.jsx)(x.$,{}),n]})}},91214:function(e,t,n){n.d(t,{W:function(){return AssetInput}});var a=n(31113),r=n(26361),s=n(84944),l=n(33501),o=n(64103),i=n(2845),c=n(7530),d=n(33621),u=n(12045);function AssetInput(e){let{asset:t="ETH",checkBalance:n=!0,balance:m,balanceTit:h="Balance",balanceDecimals:p=18,exchange:x,readonly:f,selected:g,onClick:v,amount:b,setAmount:w,price:j,disable:k,hasInput:y=!1,options:N,onChange:C=()=>{},defaultValue:S,balanceClassName:A="",disableNegative:T}=e,M=(0,o.useRef)(null),W=n&&void 0!==m&&(0,r.su)("number"==typeof b?b+"":b||"")>("bigint"==typeof m?m:0n),E=(0,u.l)(e=>"dark"==e.theme);return(0,a.jsxs)("div",{className:"relative w-full",onClick:()=>{v&&!k&&v()},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[j&&(0,a.jsx)("div",{className:"text-neutral-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:j}),x&&(0,a.jsxs)("div",{className:"text-slate-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:["~$",x]})]}),(0,a.jsxs)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2",children:[(0,a.jsx)(d.c,{size:24,symbol:t}),(0,a.jsx)("div",{className:(0,l.Z)("relative",j||x?"-top-[6px]":""),children:y?(0,a.jsx)(i.ZP,{options:N,onChange:C,defaultValue:S,styles:{control:(e,t)=>({...e,border:"0px",outline:"none",boxShadow:"none",borderRadius:"0px",minHeight:"24px",padding:"0px",background:"transparent"}),singleValue:(e,t)=>({...e,color:E?"#fff":"#000"}),valueContainer:(e,t)=>({...e,padding:"0px"}),menu:(e,t)=>({...e,margin:0,background:E?"#444":"#fff"}),option:(e,t)=>({...e,color:E?"#fff":"#000",background:E?"transparent":"#fff"}),menuPortal:(e,t)=>({...e,margin:0})}}):(0,a.jsx)("div",{children:t})})]}),(0,a.jsx)("input",{value:b,onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");w(t)},ref:M,type:"number",disabled:k,className:(0,l.Z)(f?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent",{"border-green-700 border-2":g,"border-red-400 !border-2 focus:border-red-400":W,"border-slate-400  focus:border-blue-400":!W&&!g},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none dark:text-slate-50"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:f})]}),void 0!=m&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 dark:text-slate-50/70 text-sm",children:[(0,a.jsxs)("div",{className:A,children:[(0,a.jsxs)("span",{children:[h,": ",(0,s.Rp)(m,3,p)]}),(0,a.jsx)("button",{className:"text-indigo-500 dark:text-violet-300 ml-2",onClick:()=>{let e=(0,c.b)(m,p);w(e),v&&!k&&v()},children:"Max"})]}),(0,a.jsx)("div",{className:"text-sm text-red-400",children:W?"Insufficient account balance":""})]})]})}},33621:function(e,t,n){n.d(t,{c:function(){return CoinIcon}});var a=n(31113);function CoinIcon(e){let{symbol:t,size:n=48,...r}=e;return(0,a.jsx)("img",{...r,width:n,height:n,src:"/".concat(t,".svg"),alt:t})}},2987:function(e,t,n){n.d(t,{o:function(){return SimpleDialog}});var a=n(31113),r=n(26361),s=n(15166),l=n(16916);function SimpleDialog(e){let{trigger:t,children:n,className:o,style:i,closeClassName:c,disableOutClose:d,disableClose:u,triggerProps:m,...h}=e;return(0,a.jsxs)(s.fC,{...h,children:[(0,a.jsx)(s.xz,{...m||{},children:t}),(0,a.jsxs)(s.h_,{children:[(0,a.jsx)(s.aV,{className:"fixed top-0 left-0 inset-0 z-50 bg-black/60"}),(0,a.jsxs)(s.VY,{onEscapeKeyDown:e=>{u&&e.stopPropagation(),u&&e.preventDefault()},onInteractOutside:e=>{console.info("e:",e),d&&e.stopPropagation(),d&&e.preventDefault()},style:i,className:(0,r.cn)("fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[640px] -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-[#333333] rounded-2xl overflow-hidden shadow-2xl z-50",o),children:[n,(0,a.jsx)(s.x8,{disabled:u,className:(0,r.cn)("absolute right-4 top-4 cursor-point text-xl",c),children:(0,a.jsx)(l.abH,{})})]})]})]})}},36762:function(e,t,n){n.d(t,{$:function(){return Spinner}});var a=n(31113),r=n(33501);let Spinner=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{fill:"none",className:(0,r.Z)(t,"animate-spin h-5 w-5 2-ml-1 2mr-3"),viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},12045:function(e,t,n){n.d(t,{h:function(){return ThemeMode},l:function(){return c}});var a=n(31113),r=n(26361),s=n(64103),l=n(69426),o=n(48338),i=n(2987);let getThemeState=()=>{let e="light",t="light";return"dark"!==localStorage.theme&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.remove("dark"),e="light",t="light"):(document.documentElement.classList.add("dark"),e="dark",t="dark"),"theme"in localStorage||(e="system"),{themeMode:e,theme:t}},c=(0,o.Ue)(e=>({...getThemeState(),setThemeMode:t=>e(()=>({themeMode:t})),setTheme:t=>e(()=>({theme:t}))})),d={light:(0,a.jsx)(l.EWX,{}),dark:(0,a.jsx)(l.Dq,{}),system:(0,a.jsx)(l.pUp,{})};function ThemeMode(){let e=c(),onChangeTheme=()=>{let{theme:t,themeMode:n}=getThemeState();e.setTheme(t),e.setThemeMode(n)};(0,s.useEffect)(()=>{onChangeTheme()},[]);let onClick=e=>{"System"==e?localStorage.removeItem("theme"):localStorage.theme=e.toLocaleLowerCase(),onChangeTheme()};return(0,a.jsx)(i.o,{className:"max-w-[200px] py-10 flex flex-col text-base text-stone-500 dark:text-white",trigger:(0,a.jsx)("div",{className:"text-xl",children:d[e.theme]}),children:["Light","Dark","System"].map((t,n)=>(0,a.jsxs)("div",{className:(0,r.cn)("flex px-5 items-center py-2 gap-3 cursor-pointer",{"bg-stone-100 dark:bg-zinc-700":t.toLowerCase()==e.themeMode}),onClick:()=>onClick(t),children:[(0,a.jsx)("div",{className:"text-2xl",children:d[t.toLowerCase()]}),(0,a.jsx)("span",{className:"",children:t})]},"theme_mode_"+t))})}},78354:function(e,t,n){n.d(t,{R:function(){return useWrapContractWrite}});var a=n(26361),r=n(64103),s=n(47259),l=n(28294),o=n(64040),i=n(15506);function useWrapContractWrite(e,t){let{autoToast:n=!0,onSuccess:c}=t||{},[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),p=(0,l.t)(),{data:x}=(0,o.p)(),f=!p||!x||!x.account||d||!e,g=(0,i.hp)(),write=async()=>{if(!f){u(!0),h(!1);try{let t="function"==typeof e?await e():e,{request:a}=await p.simulateContract({account:x.account,...t}),r=await x.writeContract(a),l=await p.waitForTransactionReceipt({hash:r});if("success"!==l.status)throw"Transaction reverted";h(!0),c&&c(),n&&s.A.success("Transaction success"),g.update()}catch(e){n&&s.A.error((0,a.az)(e))}u(!1)}};return{write,isDisabled:f,isLoading:d,isSuccess:m}}},84944:function(e,t,n){n.d(t,{Rp:function(){return displayBalanceWithUnit},ZM:function(){return displayBalanceWithoutFormat},dq:function(){return displayBalance}});var a=n(7530),r=n(53060);let displayBalanceWithUnit=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0;if(!e)return"0";let r=10**t,s=Math.floor(Number((0,a.b)(e,n))*r)/r,l=Number((.1**t).toFixed(t));return s>0&&s<l?"<"+l:s<0&&s>-l?"≈0":s.toLocaleString("en-US",{maximumFractionDigits:t})},displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return"0";let a=Number((0,r.d)(e)),s=Number((.1**t).toFixed(t));return a>0&&a<s?"<"+s:a<0&&a>-s?"≈0":a.toLocaleString("en-US",{...n||{},maximumFractionDigits:t})},displayBalanceWithoutFormat=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0";let n=10**t,a=Math.floor(Number((0,r.d)(e))*n)/n,s=Number((.1**t).toFixed(t));return a>0&&a<s?"<"+s:a<0&&a>-s?"≈0":String(a)}}}]);