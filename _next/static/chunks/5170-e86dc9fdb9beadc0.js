(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5170],{35883:function(){},55139:function(e,t,n){"use strict";n.d(t,{r:function(){return a.Z}});var a=n(87456)},76036:function(e,t,n){"use strict";n.d(t,{v:function(){return ApproveAndTx}});var a=n(57437),s=n(72009),r=n(81628),l=n(2265),i=n(71424),o=n(56926),c=n(7935),d=n(54415);let u={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a}=(0,o.mA)(),m=(0,d.uT)(),{data:x}=(0,o.py)(),[p,f]=(0,l.useState)(!1),h=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==s.K8),[e]),[g,b]=(0,l.useState)(t&&u[t]||{}),updateAllownce=(e,n)=>{t&&(u[t]={...u[t]||{},[e]:n},b(t=>({...t,[e]:n})))},{data:v}=(0,o.Ov)(),j=(0,o.t_)();(0,l.useEffect)(()=>{a&&t&&h.forEach(e=>{m({abi:c.em,address:e,functionName:"allowance",args:[a,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[h,a,v]);let[N,y]=(0,l.useState)(!1),w=(0,l.useMemo)(()=>h.filter(t=>(0,r.ok)(e,t)>0n&&(0,r.ok)(e,t)>(0,r.ok)(g,t)),[e,h,g]),approve=async()=>{if(0!=w.length&&t)try{y(!0),f(!1);for(let a=0;a<w.length;a++){let s=w[a],r=!1===n?e[s]:n,l=await (null==x?void 0:x.writeContract({abi:c.em,address:s,functionName:"approve",args:[t,r]}));l&&await (null==j?void 0:j.waitForTransactionReceipt({hash:l})),updateAllownce(s,r)}i.A.success("Approve success"),y(!1),f(!0)}catch(e){throw i.A.error((0,r.az)(e)),y(!1),f(!1),e}};return{approve,loading:N,shouldApprove:w.length>0,isSuccess:p}};var m=n(43003),x=n(35769),p=n(72084);function ApproveAndTx(e){let{className:t,tx:n,approves:s,spender:r,requestAmount:i,config:o,toast:c=!0,disabled:d,onTxSuccess:u,onApproveSuccess:f}=e,{write:h,isDisabled:g,isLoading:b}=(0,m.R)({onSuccess:()=>u&&u(),...o},c),v=d||g||b||!1===o.enabled,{approve:j,shouldApprove:N,loading:y,isSuccess:w}=useApproves(s||{},r,i),B=(0,l.useRef)();return(B.current=f,(0,l.useEffect)(()=>{B.current&&w&&B.current()},[w]),N)?(0,a.jsxs)("button",{className:(0,x.m)("btn-primary flex items-center justify-center gap-4",t),onClick:j,disabled:d||!j||y,children:[y&&(0,a.jsx)(p.$,{}),"Approve"]}):(0,a.jsxs)("button",{className:(0,x.m)("btn-primary flex items-center justify-center gap-4",t),onClick:()=>h(),disabled:v,children:[b&&(0,a.jsx)(p.$,{}),n]})}},34776:function(e,t,n){"use strict";n.d(t,{Z:function(){return ConnectBtn}});var a=n(57437),s=n(14701),r=n(1044);function ConnectBtn(){let e=(0,r.Z)(1024);return(0,a.jsx)(s.NL,{chainStatus:e.width>600?"full":"icon",showBalance:!1})}},93390:function(e,t,n){"use strict";var a=n(57437),s=n(81628);function DefEmpty(){return(0,a.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}n(2265),t.ZP=e=>{let{header:t,data:n,span:r={},empty:l=(0,a.jsx)(DefEmpty,{}),className:i="relative min-w-full bg-transparent ",headerClassName:o,headerItemClassName:c,tbodyClassName:d="",rowClassName:u,rowStyle:m,cellClassName:x,onClickRow:p,onRowMouseHover:f}=e;return(0,a.jsxs)("table",{className:(0,s.cn)("relative min-w-full bg-transparent ",i),children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{className:(0,s.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6",o),children:t.map((e,t)=>(0,a.jsx)("th",{colSpan:r[t],scope:"col",className:(0,s.cn)(0==r[t]?"p-0 w-0":"p-3 font-normal text-sm",c),children:e},t))})}),(0,a.jsxs)("tbody",{className:(0,s.cn)(d),children:[n.map((e,n)=>(0,a.jsx)("tr",{onClick:()=>p&&p(n),onMouseEnter:()=>f&&f(n),onMouseLeave:()=>f&&f(-1),style:"function"==typeof m?m(n):m,className:(0,s.cn)("text-slate-700 font-medium whitespace-nowrap",p?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof u?u(n):u),children:e.map((e,l)=>l>=t.length?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)("td",{colSpan:r[l],className:(0,s.cn)(0==r[l]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof x?x(n,l):x),children:e},l))},n)),0===n.length&&l]})]})}},80547:function(e,t,n){"use strict";n.d(t,{W:function(){return AssetInput}});var a=n(57437),s=n(81628),r=n(20373),l=n(57042),i=n(2265),o=n(28881),c=n(16775),d=n(51549);function AssetInput(e){let{asset:t="ETH",checkBalance:n=!0,balance:u,balanceTit:m="Balance",balanceDecimals:x=18,exchange:p,readonly:f,selected:h,onClick:g,amount:b,setAmount:v,price:j,disable:N,hasInput:y=!1,options:w,onChange:B=()=>{},defaultValue:k,balanceClassName:S="",disableNegative:A}=e,T=(0,i.useRef)(null),C=n&&void 0!==u&&(0,s.su)("number"==typeof b?b+"":b||"")>("bigint"==typeof u?u:0n);return(0,a.jsxs)("div",{className:"relative w-full",onClick:()=>{g&&!N&&g()},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[j&&(0,a.jsx)("div",{className:"text-neutral-500 text-xs max-w-full overflow-hidden",children:j}),p&&(0,a.jsxs)("div",{className:"text-slate-500 text-xs max-w-full overflow-hidden",children:["~$",p]})]}),(0,a.jsxs)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2",children:[(0,a.jsx)(d.c,{size:24,symbol:t}),(0,a.jsx)("div",{className:(0,l.Z)("relative",j||p?"-top-[6px]":""),children:y?(0,a.jsx)(o.ZP,{options:w,onChange:B,defaultValue:k,styles:{control:(e,t)=>({...e,border:"0px",outline:"none",boxShadow:"none",borderRadius:"0px",minHeight:"24px",padding:"0px",background:"transparent"}),valueContainer:(e,t)=>({...e,padding:"0px"}),menu:(e,t)=>({...e,margin:0}),menuPortal:(e,t)=>({...e,margin:0})}}):(0,a.jsx)("div",{children:t})})]}),(0,a.jsx)("input",{value:b,onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");v(t)},ref:T,type:"number",disabled:N,className:(0,l.Z)(f?"bg-slate-50":"bg-white",{"border-green-700 border-2":h,"border-red-400 !border-2 focus:border-red-400":C,"border-slate-400  focus:border-blue-400":!C&&!h},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:f})]}),void 0!=u&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 text-sm",children:[(0,a.jsxs)("div",{className:S,children:[(0,a.jsxs)("span",{children:[m,": ",(0,r.Rp)(u,3,x)]}),(0,a.jsx)("button",{className:"text-indigo-500 ml-2",onClick:()=>{let e=(0,c.b)(u,x);v(e),g&&!N&&g()},children:"Max"})]}),(0,a.jsx)("div",{className:"text-sm text-red-400",children:C?"Insufficient account balance":""})]})]})}},8332:function(e,t,n){"use strict";n.d(t,{IS:function(){return useBlastPointsItems},aG:function(){return BlastPointCards}});var a=n(57437),s=n(81628),r=n(51549),l=n(91056),i=n(72009),o=n(23653),c=n(14389),d=n(86825),u=n(78203),m=n(66949),x=n(68497),p=n(20373),f=n(2265),h=n(85686),g=n(34350),b=n(97062),v=n(28278);let j={USB:"rgba(226, 254, 182, 1)",ETHx:"rgba(238, 234, 254, 1)",USDBx:"linear-gradient(90deg, rgba(16, 185, 129, 0.25) 0%, rgba(99, 102, 241, 0.25) 100%)"},N={USB:"rgba(196, 241, 126, 1)",ETHx:"rgba(219, 210, 255, 1)",USDBx:"rgba(255, 255, 255, 1)"};function useBlastPointsItems(){let e=(0,c.p)(),{prices:t,usbApr:n}=(0,f.useContext)(x.g),a=(0,m.a)(),r=(0,d.i)(),o=(0,u.m)(),h=(0,f.useMemo)(()=>{let n=[],r=i.iK[e];if(l.DF.find(t=>t.id==e)){let c=t[i.K8],d=t[i.O1[e]],calcPoint=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100n;return 0n==c?"0":(0,p.Rp)(6504987n*302400n*e*t/c,0,8)};n.push({symbol:"USB",tit:"APY:".concat((0,s.Jh)(o[i.O1[e]],10)," ~ ").concat((0,s.Jh)(o.USB_END,10)),sub:"~ Interest + Earning",point:calcPoint(d),per:100}),r.reduceRight((e,r)=>{let i="ETH"==r.assetTokenSymbol?"ETH GAIN BOOSTER":"APY:".concat((0,s.Jh)(o[r.xTokenAddress],10)),c=r.isStable&&(0,l.WA)()?"~ ".concat(a[r.vault].toFixed(2),"x Blast Native Yield"):"~ ".concat(a[r.vault].toFixed(2),"x Leveraged long on ").concat(r.assetTokenSymbol);return n.push({symbol:r.xTokenSymbol,tit:i,sub:c,point:calcPoint(t[r.xTokenAddress],"ETHx"==r.xTokenSymbol?1n:100n),per:"ETHx"==r.xTokenSymbol?1:100}),e},1)}return n},[e,t,a,n,r]);return h}function BlastPointCard(e){let{symbol:t,tit:n,sub:l,point:d}=e,u=(0,c.p)(),m=(0,f.useMemo)(()=>{var e,n;let a=(0,o.l)(u,!1),r={USB:"USDB",ETHx:"ETH",USDBx:"USDB"},l=null===(e=a.find(e=>e.symbol==r[t]))||void 0===e?void 0:e.address,c=null===(n=a.find(e=>e.symbol==t))||void 0===n?void 0:n.address;if(!l||!c)return"";let convertNative=e=>e==i.K8?"0x0000000000000000000000000000000000000000":e;return(0,s.h$)(convertNative(l),convertNative(c))},[u]);return(0,a.jsxs)("div",{style:{boxShadow:"0px 0px 12px 0px rgba(187, 215, 144, 0.4)"},className:"rounded-2xl overflow-hidden bg-white text-base flex flex-col",children:[(0,a.jsxs)("div",{className:"flex md:flex-wrap items-center p-4 gap-2",style:{background:j[t]},children:[(0,a.jsx)(r.c,{symbol:t,size:42,className:"shrink-0"}),(0,a.jsx)("div",{className:"font-semibold",children:t}),(0,a.jsxs)("div",{className:"whitespace-nowrap text-center text-sm ml-auto flex flex-col items-center flex-1",children:[(0,a.jsx)("div",{className:"rounded-full px-2 py-[2px] w-fit",style:{background:N[t]},children:n}),(0,a.jsx)("div",{className:"mt-1",children:l})]})]}),(0,a.jsxs)("div",{className:"flex justify-between p-4 whitespace-nowrap text-sm items-center gap-2 bg-white",children:[(0,a.jsxs)("div",{className:"font-medium text-indigo-500 self-start text-xs items-center gap-1",children:[(0,a.jsxs)("span",{className:"font-semibold text-sm",children:[d," Blast Points"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["per ","ETHx"==t?1:100," ",(0,a.jsx)(r.c,{symbol:t,size:14})," /Week"]})]}),(0,a.jsxs)("a",{className:"underline text-slate-500 flex items-center gap-1",href:m,target:"_blank",children:["Swap on Thruster ",(0,a.jsx)(h.Ig3,{})]})]})]})}function BlastPointCards(){let e=useBlastPointsItems(),[t,{width:n}]=(0,g.Z)(),s=n<768;return 0==e.length?null:(0,a.jsxs)("div",{ref:t,className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:pb-[60px]",children:[!s&&e.map(e=>(0,a.jsx)(BlastPointCard,{...e},e.symbol)),s&&(0,a.jsx)(v.tq,{spaceBetween:20,pagination:{clickable:!0,renderBullet:function(e,t){return'<div class="'+t+'"></div>'}},className:"-translate-x-[1rem] !px-4 !pb-10 !w-screen",modules:[b.tl],children:e.map(e=>(0,a.jsx)(v.o5,{children:(0,a.jsx)(BlastPointCard,{...e})},e.symbol))})]})}},51549:function(e,t,n){"use strict";n.d(t,{c:function(){return CoinIcon}});var a=n(57437);function CoinIcon(e){let{symbol:t,size:n=48,...s}=e;return(0,a.jsx)("img",{...s,width:n,height:n,src:"/".concat(t,".svg"),alt:t})}},63040:function(e,t,n){"use strict";n.d(t,{a:function(){return MigrationTip}});var a=n(57437),s=n(73479),r=n(72009),l=n(14389),i=n(54415),o=n(81628),c=n(20373),d=n(2265),u=n(56926),m=n(7935),x=n(93390),p=n(51549),f=n(72084),h=n(58910),g=n(28712),b=n(52410);function SimpleDialog(e){let{trigger:t,children:n,className:s,style:r,closeClassName:l,disableOutClose:i,disableClose:c,...d}=e;return(0,a.jsxs)(g.fC,{...d,children:[(0,a.jsx)(g.xz,{children:t}),(0,a.jsxs)(g.h_,{children:[(0,a.jsx)(g.aV,{className:"fixed top-0 left-0 inset-0 z-50 bg-black/60"}),(0,a.jsxs)(g.VY,{onEscapeKeyDown:e=>{c&&e.stopPropagation(),c&&e.preventDefault()},onInteractOutside:e=>{console.info("e:",e),i&&e.stopPropagation(),i&&e.preventDefault()},style:r,className:(0,o.cn)("fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[640px] -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl overflow-hidden shadow-2xl z-50",s),children:[n,(0,a.jsx)(g.x8,{disabled:c,className:(0,o.cn)("absolute right-4 top-4 cursor-point text-xl",l),children:(0,a.jsx)(b.abH,{})})]})]})]})}var v=n(89348);function MarginLoan(e){let{symbol:t,value:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 pr-8",children:[(0,a.jsx)(p.c,{symbol:t,size:20}),(0,a.jsx)("span",{children:(0,c.dq)(n)})]})}function MigrationV2(){let e=(0,l.p)(),t=r.Lh[e][0],n=r.Lh[e][1],p=r.iK[e][0],g=r.iK[e][1],{data:b,isFetching:v}=function(){let e=(0,l.p)(),{address:t}=(0,u.mA)(),n=r.Lh[e][0],a=r.Lh[e][1],c=(0,i.uT)(),queryFn=async()=>{let l=await Promise.all([{abi:m.em,address:n.xTokenAddress,functionName:"balanceOf",args:[t]},{abi:m.em,address:a.xTokenAddress,functionName:"balanceOf",args:[t]},{abi:s.aT,address:n.ptyPoolAboveAddress,functionName:"userStakingBalance",args:[t]},{abi:s.aT,address:n.ptyPoolBelowAddress,functionName:"userStakingBalance",args:[t]},{abi:m.em,address:r.O1[e],functionName:"balanceOf",args:[t]},{abi:m.em,address:n.xTokenAddress,functionName:"totalSupply"},{abi:s.WW,address:n.vault,functionName:"usbTotalSupply"},{abi:s.aT,address:n.ptyPoolBelowAddress,functionName:"earnedStakingYields",args:[t]}].map(e=>c(e))),i=(0,o.ok)(l,[0])+(0,o.ok)(l,[7]),d=(0,o.ok)(l,[1]),u=(0,o.ok)(l,[2]),x=(0,o.ok)(l,[3]),p=x+(0,o.ok)(l,[4]),f=(0,o.ok)(l,[5]),h=(0,o.ok)(l,[6]),g=await Promise.all([i?c({abi:s.Wn,address:r.O6[e],functionName:"calcPairedRedeemAssetAmount",args:[n.vault,i]}).then(e=>e[1]):0n,d?c({abi:s.Wn,address:r.O6[e],functionName:"calcRedeemByMarginTokensFromStableVault",args:[a.vault,r.e_[e],d]}).then(e=>e[2]):0n]),b=i?(0,o.ok)(g,[0]):0n,v=d?(0,o.ok)(g,[1]):0n;return{ethxBalance:i,usdbxBalance:d,ethBalance:u,usbBalance1:x,usbBalance:p,ethxMarginloan:f>0n?-(i*h)/f:0n,ethOutAmount:b,usdbOutAmount:v}};return(0,u.aM)([e,t],{queryFn,retry:!0,initialData:(0,o.Yb)({},0n),cacheTime:1e3})}(),j=b.usbBalance+b.ethxMarginloan<0n,N=b.ethxBalance+b.usdbxBalance+b.ethBalance<=0n,{mutateAsync:y,isLoading:w,finishCount:B}=(0,i.Lh)(),k=(0,d.useMemo)(()=>{let e=[];return b.usbBalance1&&e.push({name:"Withdraw USB from V1 Earn Pool",abi:s.aT,address:t.ptyPoolBelowAddress,functionName:"exit"}),b.ethBalance&&e.push({name:"Withdraw ETH from V1 Earn Pool",abi:s.aT,address:t.ptyPoolAboveAddress,functionName:"exit"}),b.ethxBalance&&e.push({name:"Redeem ETH from V1 Vault",abi:s.WW,address:t.vault,functionName:"redeemByPairsWithExpectedMarginTokenAmount",args:[b.ethxBalance]}),b.ethOutAmount&&e.push({name:"Deposit ETH to V2 Vault",abi:s.WW,address:p.vault,functionName:"mintPairs",args:[b.ethOutAmount],value:b.ethOutAmount}),b.usdbxBalance&&e.push({name:"Redeem USDB from V1 Vault",abi:s.S4,address:n.vault,functionName:"redeemByMarginTokens",args:[b.usdbxBalance]}),b.usdbOutAmount&&e.push({name:"Deposit USDB to V2 Vault",abi:s.S4,address:g.vault,functionName:"mintMarginTokens",args:[b.usdbOutAmount]}),e},[b,t,p,n,g]),S=j||N||w||v||B==k.length,migrate=async()=>{try{console.info("tasks:",k),await y(k)}catch(e){(0,o.S3)(e)}};return(0,a.jsx)(SimpleDialog,{disableOutClose:!0,style:{background:"linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(228, 228, 228, 0.8) 50.49%, rgba(255, 255, 255, 0.8) 100%)"},className:"backdrop-blur-lg max-w-[800px]",disableClose:w,trigger:(0,a.jsx)("button",{className:"btn-primary mt-0",children:"MIGRATION TO V2"}),children:(0,a.jsxs)("div",{className:"card flex flex-col gap-4 !bg-transparent",children:[(0,a.jsx)("div",{className:"page-sub text-left",children:"MIGRATION TO V2"}),(0,a.jsx)("div",{children:"Before migration, make sure your USB balance is greater than your margin loan."}),v?(0,a.jsx)("div",{className:"flex justify-center items-center h-[357px]",children:(0,a.jsx)(f.$,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,a.jsx)("div",{className:"rounded-lg overflow-x-auto w-full bg-zinc-200 pb-2",children:(0,a.jsx)(x.ZP,{header:["","Balance","Margin loan"],data:[["ETHx-V1",(0,c.dq)(b.ethxBalance),(0,a.jsx)(MarginLoan,{symbol:"USB",value:b.ethxMarginloan},"ethx_ml")],["USDBx-V1",(0,c.dq)(b.usdbxBalance),""],["ETH-V1",(0,c.dq)(b.ethBalance),""],["USB",(0,c.dq)(b.usbBalance),""]]})}),(0,a.jsxs)("div",{className:"flex flex-col pl-3 pt-5 gap-1 md:pl-5 md:pt-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"Progress"}),k.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{children:["- ",e.name]}),t<B&&(0,a.jsx)(h.ZSR,{className:"text-green-500"}),w&&t==B&&(0,a.jsx)(f.$,{})]},"task_"+t))]})]}),(0,a.jsxs)("button",{className:"btn-primary flex items-center gap-2 justify-center",disabled:S,onClick:migrate,children:[w&&(0,a.jsx)(f.$,{}),"Start to Migration"]}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"USB balance is insufficient. Mint more USB from the"}),"USDB V2 Vault or Swap on Thruster"]})]})]})})}function MigrationTip(){let e=(0,l.p)(),t=r.Lh[e],n=t&&t.length>0;return n?(0,a.jsxs)("div",{className:"flex flex-col justify-center gap-4 items-center md:flex-row",children:[(0,a.jsxs)("div",{className:"text-sm text-red-500 p-2 rounded bg-[#FFE5E0] flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1 rounded bg-red-500",children:(0,a.jsx)(v._sk,{className:"text-white"})}),"Wand has been updated to Version2. Please ensure you complete the migration of your assets promptly."]}),(0,a.jsx)(MigrationV2,{})]}):null}},72084:function(e,t,n){"use strict";n.d(t,{$:function(){return Spinner}});var a=n(57437),s=n(57042);let Spinner=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{fill:"none",className:(0,s.Z)(t,"animate-spin h-5 w-5 2-ml-1 2mr-3"),viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},64020:function(e,t,n){"use strict";n.d(t,{C:function(){return Tip}});var a=n(57437),s=n(81628),r=n(75224),l=n(40311);function Tip(e){let{children:t,node:n,className:i,inFlex:o}=e,c=document.getElementById("tooltip-root");return t?(0,a.jsx)(r.zt,{children:(0,a.jsxs)(r.fC,{children:[(0,a.jsx)(r.xz,{asChild:!0,children:n?(0,a.jsx)("div",{className:(0,s.cn)("inline-block cursor-default",i),style:{verticalAlign:"text-bottom"},children:n}):(0,a.jsx)("div",{className:(0,s.cn)(o?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",i),children:(0,a.jsx)(l.apP,{className:"inline-block stroke-slate-500"})})}),(0,a.jsx)(r.h_,{container:c,children:(0,a.jsxs)(r.VY,{className:"max-w-xs text-sm text-white bg-slate-900 rounded-md p-4",children:[t,(0,a.jsx)(r.Eh,{})]})})]})}):n}},78203:function(e,t,n){"use strict";n.d(t,{m:function(){return useTokenApys}});var a=n(81628),s=n(23862),r=n(86825),l=n(66949),i=n(2265),o=n(68497),c=n(14389),d=n(72009),u=n(43977);function useTokenApys(){let e=(0,s.b)(()=>(0,a.Yb)({},0n)),t=(0,c.p)(),{prices:n,usbApr:m,stableVaultsState:x}=(0,i.useContext)(o.g),p=(0,l.a)(),f=(0,r.i)();return(0,i.useMemo)(()=>{let n=d.iK[t],s=(0,a.ok)(f[n[0].ptyPoolBelowAddress],"staking");e[d.O1[t]]=m.apr,e.USB_END=m.apr+s;let r=(0,u.v)("0.15",10);return n.forEach(t=>{if(t.assetTokenAddress!=d.K8){let n=p[t.vault]>1n?(0,u.v)("".concat((p[t.vault]-1).toFixed(2)),10):0n,a=(0,u.v)("1",10);e[t.xTokenAddress]=(n*(r-m.apr)+r*a)/a}}),null},[t,n,p,m,f,x]),e}},66949:function(e,t,n){"use strict";n.d(t,{a:function(){return useValutsLeverageRatio},z:function(){return useVaultLeverageRatio}});var a=n(72009),s=n(81628),r=n(68497),l=n(2265),i=n(14389),o=n(23862);function useVaultLeverageRatio(e){let{vaultsState:t,stableVaultsState:n}=(0,l.useContext)(r.g),a=t[(null==e?void 0:e.vault)||"null"],i=n[(null==e?void 0:e.vault)||"null"],o=(null==e?void 0:e.isStable)?(0,s.pF)(i.aar,i.AARDecimals):(0,s.pF)(a.aar,a.AARDecimals);return Math.max(0,1+1/(o-1))}function useValutsLeverageRatio(){let{vaultsState:e,stableVaultsState:t}=(0,l.useContext)(r.g),n=(0,i.p)(),c=a.iK[n],d=(0,o.b)(()=>new Proxy({},{get:function(e,t){return t in e&&null!==e[t]&&void 0!==e[t]?e[t]:0}}));return c.forEach(n=>{let a=e[(null==n?void 0:n.vault)||"null"],r=t[(null==n?void 0:n.vault)||"null"],l=(null==n?void 0:n.isStable)?(0,s.pF)(r.aar,r.AARDecimals):(0,s.pF)(a.aar,a.AARDecimals);d[n.vault]=Math.max(0,1+1/(l-1))}),d}},43003:function(e,t,n){"use strict";n.d(t,{R:function(){return useWrapContractWrite}});var a=n(81628),s=n(2265),r=n(71424),l=n(56926),i=n(54415);function useWrapContractWrite(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[n,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,l.t_)(),{data:m}=(0,l.py)(),x=!u||!m||!m.account||n||!e||"object"==typeof e&&!1==e.enabled,p=(0,i.hp)(),write=async()=>{if(!x){o(!0),d(!1);try{let n="function"==typeof e?await e():e,{request:a}=await u.simulateContract({account:m.account,...n}),s=await m.writeContract(a),l=await u.waitForTransactionReceipt({hash:s});if("success"!==l.status)throw"Transaction reverted";d(!0),n.onSuccess&&n.onSuccess({}),t&&r.A.success("Transaction success"),p.update()}catch(e){t&&r.A.error((0,a.az)(e))}o(!1)}};return{write,isDisabled:x,isLoading:n,isSuccess:c}}},20373:function(e,t,n){"use strict";n.d(t,{Rp:function(){return displayBalanceWithUnit},ZM:function(){return displayBalanceWithoutFormat},dq:function(){return displayBalance}});var a=n(16775),s=n(79352);let displayBalanceWithUnit=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0;if(!e)return"0";let s=10**t,r=Math.floor(Number((0,a.b)(e,n))*s)/s,l=Number((.1**t).toFixed(t));return r>0&&r<l?"<"+l:r<0&&r>-l?"≈0":r.toLocaleString("en-US",{maximumFractionDigits:t})},displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0";let n=Number((0,s.d)(e)),a=Number((.1**t).toFixed(t));return n>0&&n<a?"<"+a:n<0&&n>-a?"≈0":n.toLocaleString("en-US",{maximumFractionDigits:t})},displayBalanceWithoutFormat=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0";let n=10**t,a=Math.floor(Number((0,s.d)(e))*n)/n,r=Number((.1**t).toFixed(t));return a>0&&a<r?"<"+r:a<0&&a>-r?"≈0":String(a)}}}]);